{"version":3,"file":"dcx-3.0.0.min.js","mappings":"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","sources":["webpack://django-comments-xtd/./django_comments_xtd/static/django_comments_xtd/js/comment_form.js","webpack://django-comments-xtd/./django_comments_xtd/static/django_comments_xtd/js/reply_forms.js","webpack://django-comments-xtd/./django_comments_xtd/static/django_comments_xtd/js/comments.js","webpack://django-comments-xtd/./django_comments_xtd/static/django_comments_xtd/js/reactions.js","webpack://django-comments-xtd/./django_comments_xtd/static/django_comments_xtd/js/index.js"],"sourcesContent":["export default class CommentForm {\n    constructor(formWrapper) {\n        this.formWrapper = formWrapper;\n        this.init();\n    }\n\n    click_on_post(_) { return this.post(\"post\"); }\n\n    click_on_preview(_) { return this.post(\"preview\"); }\n\n    init() {\n        this.formWrapperEl = document.querySelector(this.formWrapper);\n        this.formEl = this.formWrapperEl.querySelector(\"form\");\n        const post_btn = this.formEl.elements.post;\n        const preview_btn = this.formEl.elements.preview;\n        post_btn.addEventListener(\"click\", (_) => this.post(\"post\"));\n        preview_btn.addEventListener(\"click\", (_) => this.post(\"preview\"));\n        // Change the type of the buttons, otherwise the form is submitted.\n        post_btn.type = \"button\";\n        preview_btn.type = \"button\";\n    }\n\n    disable_btns(value) {\n        this.formEl.elements.post.disabled = value;\n        this.formEl.elements.preview.disabled = value;\n    }\n\n    is_valid() {\n        for (const el of this.formEl.querySelectorAll(\"[required]\")) {\n            if (!el.reportValidity()) {\n                el.focus();\n                return false;\n            }\n        }\n        return true;\n    }\n\n    post(submit_button_name) {\n        if (!this.is_valid()) {\n            return;\n        }\n        this.disable_btns(true);\n\n        // If the <section data-dcx=\"preview\">...</section> does exist,\n        // delete it. If the user clicks again in the \"preview\" button\n        // it will be displayed again.\n        const preview = this.formWrapperEl.querySelector(\"[data-dcx=preview]\");\n        if (preview) {\n            preview.remove();\n        }\n\n        const formData = new FormData(this.formEl);\n        if (submit_button_name !== undefined) {\n            formData.append(submit_button_name, 1);\n        }\n\n        fetch(this.formEl.action, {\n            method: 'POST',\n            headers: {\n                \"X-Requested-With\": \"XMLHttpRequest\",\n            },\n            body: formData\n        }).then(response => {\n            if (submit_button_name === \"preview\") {\n                this.handle_preview_comment_response(response);\n            } else if (submit_button_name === \"post\") {\n                this.handle_post_comment_response(response);\n            }\n        });\n\n        this.disable_btns(false);\n        return false; // To prevent calling the action attribute.\n    }\n\n    async handle_preview_comment_response(response) {\n        const data = await response.json();\n        if (response.status === 200) {\n            this.formWrapperEl.innerHTML = data.html;\n            this.init();\n            if (data.field_focus) {\n                this.formEl.querySelector(`[name=${data.field_focus}]`).focus();\n            }\n        } else if (response.status === 400) {\n            this.formEl.innerHTML = data.html;\n        }\n    }\n\n    async handle_post_comment_response(response) {\n        const data = await response.json();\n\n        if (response.status === 200) {\n            this.formWrapperEl.innerHTML = data.html;\n            this.init();\n            if (data.field_focus) {\n                this.formEl.querySelector(`[name=${data.field_focus}]`).focus();\n            }\n        }\n        else if (\n            response.status === 201 ||\n            response.status === 202 ||\n            response.status === 400\n        ) {\n            this.formEl.innerHTML = data.html;\n        }\n        else if (response.status > 400) {\n            alert(\n                \"Something went wrong and your comment could not be \" +\n                \"processed. Please, reload the page and try again.\"\n            );\n        }\n    }\n}\n","export default class ReplyFormsHandler {\n    constructor(qsReplyFormBase, qsReplyForms) {\n        this.replyFormBase = document.querySelector(qsReplyFormBase);\n        this.replyMap = new Map();\n\n        const cpage_field = window.dcx.page_param || \"cpage\";\n\n        for (const elem of document.querySelectorAll(qsReplyForms)) {\n            // Extract the reply_to value from the current reply_form.\n            // Also, it if does exist, extract the comment's page number too.\n            // Then replace the content of elem with a copy of\n            // this.replyFormBase and update the fields reply_to\n            // and comment's page number.\n            const rFormEl = elem.querySelector(\"form\");\n            if (rFormEl === null) {\n                console.error(\n                    `Could not find a reply form within one of ` +\n                    `the elements retrieved with ${qsReplyForms}.`\n                );\n                return;\n            }\n\n            const reply_to = rFormEl.elements.reply_to.value;\n            const cpage = rFormEl.elements[cpage_field]\n                ? rFormEl.elements[cpage_field].value\n                : null;\n\n            const section = this.replyFormBase.cloneNode(true);\n            section.dataset.dcx = `reply-form-${reply_to}`;\n\n            // Update fields reply_to and cpage..\n            const newForm = section.querySelector(\"form\");\n            newForm.elements.reply_to.value = reply_to;\n            if (cpage) {\n                newForm.elements[cpage_field].value = cpage;\n            }\n\n            const elemParent = elem.parentNode;\n            elem.replaceWith(section);\n            this.init(reply_to);\n            this.replyMap.set(reply_to, elemParent);\n        }\n    }\n\n    init(reply_to, is_active) {\n        const qs_section = `[data-dcx=reply-form-${reply_to}]`;\n        const section = document.querySelector(qs_section);\n\n        // Modify the form (update fields, add event listeners).\n        const newForm = section.querySelector(\"form\");\n        const post_btn = newForm.elements.post;\n        post_btn.addEventListener(\"click\", this.send_clicked(reply_to));\n        const preview_btn = newForm.elements.preview;\n        preview_btn.addEventListener(\"click\", this.preview_clicked(reply_to));\n        const cancel_btn = newForm.elements.cancel;\n        cancel_btn.addEventListener(\"click\", this.cancel_clicked(reply_to));\n        newForm.style.display = \"none\";\n\n        // Attach event listener to textarea.\n        const divta = section.querySelector(\"[data-dcx=reply-textarea]\");\n        const ta = divta.querySelector(\"textarea\");\n        ta.addEventListener(\"focus\", this.textarea_focus(reply_to));\n\n        // If is_active is true, hide the textarea and display the form.\n        if (is_active === true) {\n            section.classList.add(\"active\");\n            divta.style.display = \"none\";\n            newForm.style = \"\";\n            newForm.elements.comment.focus();\n        }\n    }\n\n    get_map_item(reply_to) {\n        const item = this.replyMap.get(reply_to);\n        if (item === undefined) {\n            const msg = `replyMap doesn't have a key ${reply_to}`;\n            console.error(msg);\n            throw msg;\n        }\n        return item;\n    }\n\n    disable_buttons(formEl, value) {\n        formEl.elements.post.disabled = value;\n        formEl.elements.preview.disabled = value;\n    }\n\n    is_valid(formEl) {\n        for (const el of formEl.querySelectorAll(\"[required]\")) {\n            if (!el.reportValidity()) {\n                el.focus();\n                return false;\n            }\n        }\n        return true;\n    }\n\n    textarea_focus(reply_to) {\n        // Display the comment form and hide the text area.\n        return (_) => {\n            const item = this.get_map_item(reply_to);\n            const qs_section = `[data-dcx=reply-form-${reply_to}`;\n            const section = item.querySelector(qs_section);\n            const form = section.querySelector(\"form\");\n            const divta = section.querySelector(\"[data-dcx=reply-textarea]\");\n            section.classList.toggle(\"active\");\n            divta.style.display = \"none\";\n            form.style = \"\";\n            form.elements.comment.focus();\n        };\n    }\n\n    cancel_clicked(reply_to) {\n    // Display the text area and hide the comment form.\n        return (_) => {\n            const item = this.get_map_item(reply_to);\n            const qs_section = `[data-dcx=reply-form-${reply_to}`;\n            const section = item.querySelector(qs_section);\n            const form = section.querySelector(\"form\");\n            const divta = section.querySelector(\"[data-dcx=reply-textarea]\");\n            const comment_value = form.elements.comment.value;\n            divta.querySelector(\"textarea\").value = comment_value;\n            section.classList.toggle(\"active\");\n            form.style.display = \"none\";\n            divta.style = \"\";\n\n            const previewEl = item.querySelector(\"[data-dcx=preview]\");\n            if (previewEl) {\n                previewEl.remove();\n            }\n        };\n    }\n\n    preview_clicked(reply_to) {\n        return (_) => {\n            this.post(\"preview\", reply_to);\n        };\n    }\n\n    send_clicked(reply_to) {\n        return (_) => {\n            this.post(\"post\", reply_to);\n        };\n    }\n\n    post(submit_button_name, reply_to) {\n        const item = this.get_map_item(reply_to);\n        const formEl = item.querySelector(\"form\");\n\n        if (!this.is_valid(formEl)) {\n            return;\n        }\n\n        this.disable_buttons(formEl, true);\n\n        const previewEl = item.querySelector(\"[data-dcx=preview]\");\n        if (previewEl) {\n            previewEl.remove();\n        }\n\n        const formData = new FormData(formEl);\n        if (submit_button_name !== undefined) {\n            formData.append(submit_button_name, 1);\n        }\n\n        fetch(formEl.action, {\n            method: \"POST\",\n            headers: {\n                \"X-Requested-With\": \"XMLHttpRequest\",\n            },\n            body: formData\n        }).then(response => {\n            if (submit_button_name === \"preview\") {\n                this.handle_preview_comment_response(response, reply_to);\n            } else if (submit_button_name === \"post\") {\n                this.handle_post_comment_response(response, reply_to);\n            }\n        });\n        this.disable_buttons(formEl, false);\n        return false; // To prevent calling the action attribute.\n    }\n\n    handle_http_200(item, data, reply_to) {\n        item.innerHTML = data.html;\n        this.init(reply_to, true); // 2nd param: is_active = true.\n        if (data.field_focus) {\n            item.querySelector(`[name=${data.field_focus}]`).focus();\n        }\n    }\n\n    handle_http_201_202_400(item, data) {\n        const form = item.querySelector(\"form\");\n        form.innerHTML = data.html;\n    }\n\n    async handle_preview_comment_response(response, reply_to) {\n        const item = this.get_map_item(reply_to);\n        const data = await response.json();\n\n        if (response.status === 200) {\n            this.handle_http_200(item, data, reply_to);\n        } else if (response.status === 400) {\n            this.handle_http_201_202_400(item, data);\n        }\n    }\n\n    async handle_post_comment_response(response, reply_to) {\n        const item = this.get_map_item(reply_to);\n        const data = await response.json();\n\n        if (response.status === 200) {\n            this.handle_http_200(item, data, reply_to);\n        }\n        else if (\n            response.status === 201 ||\n            response.status === 202 ||\n            response.status === 400\n        ) {\n            this.handle_http_201_202_400(item, data);\n        }\n        else if (response.status > 400) {\n            alert(\n                \"Something went wrong and your comment could not be \" +\n                \"processed. Please, reload the page and try again.\"\n            );\n        }\n    }\n}\n","import CommentForm from \"./comment_form.js\";\nimport ReplyFormsHandler from \"./reply_forms.js\";\n\n\nfunction init_comments() {\n    if (window.dcx === null) {\n        return;\n    }\n\n    if (window.dcx.page_param === undefined) {\n        const rroot = document.querySelector(\"[data-dcx=config]\");\n        if (rroot) {\n            window.dcx.page_param = rroot.getAttribute(\"data-page-qs-param\");\n        }\n    }\n\n    window.dcx.comment_form = null;\n    window.dcx.reply_forms_handler = null;\n\n    /* ----------------------------------------------\n     * Initialize main comment form.\n     */\n    const qs_cform = \"[data-dcx=comment-form]\";\n    if (window.dcx.comment_form === null &&\n        document.querySelector(qs_cform)\n    ) {\n        window.dcx.comment_form = new CommentForm(qs_cform);\n    }\n\n    /* ----------------------------------------------\n     * Initialize reply forms.\n     */\n    const qs_rform_base = \"[data-dcx=reply-form-template]\";\n    const qs_rforms = \"[data-dcx=reply-form]\";\n    if (window.dcx.reply_forms_handler === null &&\n        document.querySelector(qs_rform_base) &&\n        document.querySelectorAll(qs_rforms)\n    ) {\n        window.dcx.reply_forms_handler = new ReplyFormsHandler(qs_rform_base, qs_rforms);\n    }\n}\n\nexport { init_comments };\n","function init_reactions() {\n    const rroot = document.querySelector(\"[data-dcx=config]\");\n    if (rroot === null || window.dcx === null) {\n        return;\n    }\n\n    /* ----------------------------------------------\n     * Initialize dcx namespace values.\n     */\n    if (window.dcx.guest === undefined) {\n        window.dcx.guest = rroot.getAttribute(\"data-guest-user\");\n    }\n    window.dcx.login_url = init_login_url(rroot);\n    window.dcx.react_url = init_react_url(rroot);\n\n    /* ----------------------------------------------\n     * Initialize the buttons panels and their components.\n     */\n    const links = document.querySelectorAll(\"[data-dcx=reactions-panel]\");\n    if (links.length === 0) {\n        throw new Error(\"Cannot initialize reactions panel => There are no \" +\n            \"elements with [data-dcx=reactions-panel].\");\n    }\n    // create_buttons_panels(links, row_length, header_title);\n    create_buttons_panels(links);\n\n    /* ----------------------------------------------\n     * Initialize reactions-tooltips.\n     */\n    document\n        .querySelectorAll(\"[data-toggle=reactions-tooltip]\")\n        .forEach(node => {\n            node.addEventListener(\"mouseover\", on_mouseover_tooltip);\n            node.addEventListener(\"mouseout\", on_mouseout_tooltip);\n        });\n}\n\nfunction init_login_url(elem) {\n    const url = elem.getAttribute(\"data-login-url\");\n    if (url === null || url.length === 0) {\n        if (window.dcx.guest && window.dcx.guest === \"1\") {\n            throw new Error(\"Cannot initialize reactions panel => The \" +\n                \"[data-login-url] attribute does not exist or is empty.\");\n        }\n    }\n    return url;\n}\n\nfunction init_react_url(elem) {\n    const url = elem.getAttribute(\"data-react-url\");\n    if (url === null || url.length === 0) {\n        if (window.dcx.guest && window.dcx.guest === \"0\") {\n            throw new Error(\"Cannot initialize reactions panel => The \" +\n                \"[data-react-url] attribute does not exist or is empty.\");\n        } else {\n            console.info(\"Couldn't find the data-react-url attribute, \" +\n                \"but the user is anonymous. She has to login first in order \" +\n                \"to post comment reactions.\");\n        }\n    }\n    return url;\n}\n\nfunction toggle_buttons_panel(comment_id) {\n    return (event) => {\n        event.preventDefault();\n        // Hide all the panels but the target.\n        document.querySelectorAll(\".reactions-panel\").forEach(elem => {\n            if (elem.getAttribute(\"data-crpanel\") !== comment_id) {\n                elem.style.display = \"none\";\n            }\n        });\n        // Toggle the panel corresponding to the clicked link.\n        const panel = document.querySelector(`[data-crpanel=\"${comment_id}\"]`);\n        if (panel) {\n            if (panel.style.display !== \"block\") {\n                panel.style.display = \"block\";\n            } else {\n                panel.style.display = \"\";\n            }\n        }\n    };\n}\n\nfunction create_buttons_panels(nodes) {\n    const qs_template = \"[data-dcx=reactions-panel-template]\";\n    const template = document.querySelector(qs_template);\n\n    for (const elem of Array.from(nodes)) {\n        const comment_id = elem.getAttribute(\"data-comment\");\n        if (comment_id === null) {\n            continue;\n        }\n\n        const panel = template.cloneNode(true);\n        delete panel.dataset.dcx;\n        panel.setAttribute(\"data-crpanel\", `${comment_id}`);\n        const header = panel.querySelector(\"h3\");\n        const header_title = header.textContent;\n        const buttons = panel.querySelectorAll(\"P > BUTTON\");\n\n        for (const btn of Array.from(buttons)) {\n            if (window.dcx.guest === \"0\") {\n                btn.addEventListener(\"click\", on_click_reaction_btn(btn.dataset.code, comment_id));\n            } else {\n                btn.addEventListener(\"click\", function(_) {\n                    window.location.href = (\n                        `${window.dcx.login_url}?next=${login_next_url}`\n                    );\n                });\n            }\n            btn.addEventListener(\"mouseover\", on_mouseover_reaction_btn(header));\n            btn.addEventListener(\"mouseout\", on_mouseout_reaction_btn(header, header_title));\n        }\n\n        elem.parentNode.insertBefore(panel, elem);\n        calc_buttons_panel_position(comment_id);\n        elem.addEventListener(\"click\", toggle_buttons_panel(comment_id));\n    }\n}\n\nfunction calc_buttons_panel_position(cid) {\n    const panel = document.querySelector(`[data-crpanel=\"${cid}\"]`);\n    if (panel) {\n        const rroot = document.querySelector(\"[data-dcx=config]\");\n        const bottom = parseInt(rroot.getAttribute(\"data-popover-pos-bottom\")) || 0;\n        const left = parseInt(rroot.getAttribute(\"data-popover-pos-left\")) || 0;\n        const elem_sel = `[data-dcx=\"reactions-panel\"][data-comment=\"${cid}\"]`;\n        const elem = document.querySelector(elem_sel);\n        // elem is the <a>React</a>, and elem.parentNode.parentNode is the\n        // element containing the .active-reactions (reactions already\n        // selected by users).\n        const anchor_pos = elem.getBoundingClientRect();\n        const footer_pos = elem.parentNode.parentNode.getBoundingClientRect();\n        panel.style.bottom = `${bottom}px`;\n        panel.style.left = `${anchor_pos.x - footer_pos.x - left}px`;\n    }\n}\n\nfunction on_mouseover_reaction_btn(header) {\n    return (event) => {\n        header.textContent = event.target.getAttribute(\"data-title\");\n    };\n}\n\nfunction on_mouseout_reaction_btn(header, header_title) {\n    return (_) => header.textContent = header_title;\n}\n\nfunction on_click_reaction_btn(crid, cid) {\n    return (event) => {\n        event.preventDefault();\n        post_reaction({ comment: cid, reaction: crid }).then(data => {\n            handle_reaction_response(cid, data);\n        });\n    };\n}\n\nfunction on_mouseover_tooltip(event) {\n    const parent_all = event.target.parentNode.parentNode;\n    const bottom = parseInt(parent_all.getAttribute(\"data-tooltip-pos-bottom\")) || 0;\n    const left = parseInt(parent_all.getAttribute(\"data-tooltip-pos-left\")) || 0;\n    const tooltip = event.target.parentNode.children[0];\n    const target_pos = event.target.getBoundingClientRect();\n    const parent_all_pos = parent_all.getBoundingClientRect();\n    if (tooltip.className === \"reactions-tooltip\") {\n        tooltip.style.display = \"block\";\n        tooltip.style.bottom = `${bottom}px`;\n        tooltip.style.left = `${target_pos.x - parent_all_pos.x - left}px`;\n    }\n}\n\nfunction on_mouseout_tooltip(event) {\n    const tooltip = event.target.parentNode.children[0];\n    if (tooltip.className === \"reactions-tooltip\") {\n        tooltip.style.display = \"\";\n    }\n}\n\nfunction get_cookie(name) {\n    let cookieValue = null;\n    if (document.cookie && document.cookie !== '') {\n        const cookies = document.cookie.split(';');\n        for (let i = 0; i < cookies.length; i++) {\n            const cookie = cookies[i].trim();\n            // Does this cookie string begin with the name we want?\n            if (cookie.substring(0, name.length + 1) === (name + '=')) {\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                break;\n            }\n        }\n    }\n    return cookieValue;\n}\n\nasync function post_reaction(data) {\n    const response = await fetch(window.dcx.react_url, {\n        method: \"POST\",\n        cache: \"no-cache\",\n        credentials: \"same-origin\",\n        headers: {\n            \"X-CSRFToken\": get_cookie(\"csrftoken\"),\n            \"Content-Type\": \"application/json\",\n            \"Accept\": \"application/json\"\n        },\n        redirect: \"follow\",\n        referrerPolicy: \"no-referrer\",\n        body: JSON.stringify(data)\n    });\n    return response.json();\n}\n\nfunction handle_reaction_response(cid, data) {\n    const cm_footer = document.getElementById(`cm-footer-${cid}`);\n    const cm_reactions_div = document.getElementById(`cm-reactions-${cid}`);\n    if (data.counter > 0) {\n        const new_list = create_reactions_list(data);\n        if (cm_reactions_div === null) {\n            const reactions = document.createElement(\"div\");\n            reactions.id = `cm-reactions-${cid}`;\n            reactions.className = \"reactions\";\n            reactions.appendChild(new_list);\n            reactions.insertAdjacentHTML(\"beforeend\", \"&nbsp;\");\n            cm_footer.insertBefore(reactions, cm_footer.children[0]);\n            reactions.insertAdjacentHTML(\"afterend\", \"&nbsp;\");\n        } else {\n            const old_list = cm_reactions_div.querySelector(\".active-reactions\");\n            cm_reactions_div.replaceChild(new_list, old_list);\n        }\n    } else if (cm_reactions_div) {\n        cm_reactions_div.remove();\n        for (const node of cm_footer.childNodes) {\n            if (node.nodeType === Node.TEXT_NODE) {\n                node.textContent = \"\";\n            }\n        }\n    }\n    // Recalculate the position of the reactions buttons panel.\n    calc_buttons_panel_position(cid);\n}\n\nfunction create_reactions_list(data) {\n    const rroot = document.querySelector(\"[data-dcx=config]\");\n    const list = document.createElement(\"div\");\n    list.className = \"active-reactions\";\n    list.setAttribute(\"data-tooltip-pos-bottom\", rroot.getAttribute(\"data-tooltip-pos-bottom\"));\n    list.setAttribute(\"data-tooltip-pos-left\", rroot.getAttribute(\"data-tooltip-pos-left\"));\n    for (const item of data.list) {\n        const reaction = document.createElement(\"span\");\n        reaction.className = \"reaction\";\n        reaction.dataset.reaction = item.value;\n        reaction.appendChild(create_tooltip(item));\n        const anchor = document.createElement(\"a\");\n        anchor.className = \"small text-primary\";\n        anchor.setAttribute(\"data-toggle\", \"reactions-tooltip\");\n        anchor.addEventListener(\"mouseover\", on_mouseover_tooltip);\n        anchor.addEventListener(\"mouseout\", on_mouseout_tooltip);\n        anchor.appendChild(document.createTextNode(`${item.counter}`));\n        const emoji = document.createElement(\"span\");\n        emoji.className = \"emoji\";\n        emoji.innerHTML = `&${item.icon};`;\n        anchor.appendChild(emoji);\n        reaction.appendChild(anchor);\n        list.appendChild(reaction);\n    }\n    return list;\n}\n\nfunction create_tooltip(reaction) {\n    const tooltip = document.createElement(\"div\");\n    tooltip.className = \"reactions-tooltip\";\n    const arrow = document.createElement(\"div\");\n    arrow.className = \"arrow\";\n    tooltip.appendChild(arrow);\n    const p = document.createElement(\"p\");\n    p.textContent = `${reaction.authors.join(\", \")} ` +\n        `reacted with ${reaction.label}`;\n    tooltip.appendChild(p);\n    return tooltip;\n}\n\n/* ------------------------------------------------------------------------\n * Initialize the module when the page is loaded.\n *\n * Also, reactions panels must close when the user clicks outside of them,\n * or when the user hits the ESC key.\n */\nwindow.addEventListener(\"mouseup\", (event) => {\n    const data_attr = event.target.getAttribute(\"data-dcx\");\n    if (data_attr !== \"reactions-panel\") {\n        // Clicking outside the \"React\" link must close the reactions panel.\n        document.querySelectorAll(\".reactions-panel\").forEach(elem => {\n            elem.style.display = \"none\";\n        });\n    }\n});\n\nwindow.addEventListener(\"keyup\", (event) => {\n    if (event.key === \"Escape\") {\n        document.querySelectorAll(\".reactions-panel\").forEach(elem => {\n            elem.style.display = \"none\";\n        });\n    }\n});\n\nexport {Â init_reactions };\n","import { init_comments } from \"./comments.js\";\nimport { init_reactions } from \"./reactions.js\";\n\nwindow.dcx.init_comments = init_comments;\nwindow.dcx.init_reactions = init_reactions;\n\nwindow.addEventListener(\"DOMContentLoaded\", (_) => {\n    if (window.dcx === null) {\n        return;\n    }\n\n    init_comments();\n    init_reactions();\n});\n"],"names":["CommentForm","constructor","formWrapper","this","init","click_on_post","_","post","click_on_preview","formWrapperEl","document","querySelector","formEl","post_btn","elements","preview_btn","preview","addEventListener","type","disable_btns","value","disabled","is_valid","el","querySelectorAll","reportValidity","focus","submit_button_name","remove","formData","FormData","undefined","append","fetch","action","method","headers","body","then","response","handle_preview_comment_response","handle_post_comment_response","async","data","json","status","innerHTML","html","field_focus","alert","ReplyFormsHandler","qsReplyFormBase","qsReplyForms","replyFormBase","replyMap","Map","cpage_field","window","dcx","page_param","elem","rFormEl","console","error","reply_to","cpage","section","cloneNode","dataset","newForm","elemParent","parentNode","replaceWith","set","is_active","qs_section","send_clicked","preview_clicked","cancel","cancel_clicked","style","display","divta","textarea_focus","classList","add","comment","get_map_item","item","get","msg","disable_buttons","form","toggle","comment_value","previewEl","handle_http_200","handle_http_201_202_400","init_comments","rroot","getAttribute","comment_form","reply_forms_handler","qs_cform","qs_rform_base","qs_rforms","init_reactions","guest","login_url","init_login_url","url","length","Error","react_url","init_react_url","info","links","create_buttons_panels","nodes","qs_template","template","Array","from","comment_id","panel","setAttribute","header","header_title","textContent","buttons","btn","on_click_reaction_btn","code","location","href","login_next_url","on_mouseover_reaction_btn","on_mouseout_reaction_btn","insertBefore","calc_buttons_panel_position","toggle_buttons_panel","forEach","node","on_mouseover_tooltip","on_mouseout_tooltip","event","preventDefault","cid","bottom","parseInt","left","elem_sel","anchor_pos","getBoundingClientRect","footer_pos","x","target","crid","post_reaction","cache","credentials","get_cookie","redirect","referrerPolicy","JSON","stringify","reaction","handle_reaction_response","cm_footer","getElementById","cm_reactions_div","counter","new_list","create_reactions_list","list","createElement","className","appendChild","create_tooltip","anchor","createTextNode","emoji","icon","reactions","id","insertAdjacentHTML","children","old_list","replaceChild","childNodes","nodeType","Node","TEXT_NODE","parent_all","tooltip","target_pos","parent_all_pos","name","cookieValue","cookie","cookies","split","i","trim","substring","decodeURIComponent","arrow","p","authors","join","label","key"],"sourceRoot":""}