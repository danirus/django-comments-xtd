{"version":3,"file":"dcx-3.0.0.min.js","mappings":"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","sources":["webpack://django-comments-xtd/./node_modules/@babel/runtime/regenerator/index.js","webpack://django-comments-xtd/./node_modules/regenerator-runtime/runtime.js","webpack://django-comments-xtd/webpack/bootstrap","webpack://django-comments-xtd/webpack/runtime/compat get default export","webpack://django-comments-xtd/webpack/runtime/define property getters","webpack://django-comments-xtd/webpack/runtime/hasOwnProperty shorthand","webpack://django-comments-xtd/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://django-comments-xtd/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://django-comments-xtd/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://django-comments-xtd/./django_comments_xtd/static/django_comments_xtd/js/comment_form.js","webpack://django-comments-xtd/./django_comments_xtd/static/django_comments_xtd/js/reply_forms.js","webpack://django-comments-xtd/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://django-comments-xtd/./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://django-comments-xtd/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://django-comments-xtd/./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://django-comments-xtd/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://django-comments-xtd/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://django-comments-xtd/./django_comments_xtd/static/django_comments_xtd/js/reactions.js","webpack://django-comments-xtd/./django_comments_xtd/static/django_comments_xtd/js/index.js","webpack://django-comments-xtd/./django_comments_xtd/static/django_comments_xtd/js/comments.js"],"sourcesContent":["module.exports = require(\"regenerator-runtime\");\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default class CommentForm {\n    constructor(formWrapper) {\n        this.formWrapper = formWrapper;\n        this.init();\n    }\n\n    init() {\n        this.formWrapperEl = document.querySelector(this.formWrapper);\n        this.formEl = this.formWrapperEl.querySelector(\"form\");\n        const post_btn = this.formEl.elements.post;\n        const preview_btn = this.formEl.elements.preview;\n        post_btn.addEventListener(\"click\", (_) => this.post(\"post\"));\n        preview_btn.addEventListener(\"click\", (_) => this.post(\"preview\"));\n        // Change the type of the buttons, otherwise the form is submitted.\n        post_btn.type = \"button\";\n        preview_btn.type = \"button\";\n        console.log(`initialized!`);\n    }\n\n    disable_btns(value) {\n        this.formEl.elements.post.disabled = value;\n        this.formEl.elements.preview.disabled = value;\n    }\n\n    is_valid() {\n        for (const el of this.formEl.querySelectorAll(\"[required]\")) {\n            if (!el.reportValidity()) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    post(submit_button_name) {\n        if (!this.is_valid()) {\n            return;\n        }\n        this.disable_btns(true);\n\n        // If the <section data-dcx=\"preview\">...</section> does exist,\n        // delete it. If the user clicks again in the \"preview\" button\n        // it will be displayed again.\n        const preview = this.formWrapperEl.querySelector(\"[data-dcx=preview]\");\n        if (preview) {\n            preview.remove();\n        }\n\n        const formData = new FormData(this.formEl);\n        if (submit_button_name !== undefined) {\n            formData.append(submit_button_name, 1);\n        }\n\n        fetch(this.formEl.action, {\n            method: 'POST',\n            headers: {\n                \"X-Requested-With\": \"XMLHttpRequest\",\n            },\n            body: formData\n        }).then(response => {\n            if (submit_button_name === \"preview\") {\n                this.handle_preview_comment_response(response);\n            } else if (submit_button_name === \"post\") {\n                this.handle_post_comment_response(response);\n            }\n        });\n\n        this.disable_btns(false);\n        return false; // To prevent calling the action attribute.\n    }\n\n    async handle_preview_comment_response(response) {\n        const data = await response.json();\n        if (response.status === 200) {\n            this.formWrapperEl.innerHTML = data.html;\n            this.init();\n            if (data.field_focus) {\n                this.formEl.querySelector(`[name=${data.field_focus}]`).focus();\n            }\n        } else if (response.status === 400) {\n            this.formEl.innerHTML = data.html;\n        }\n    }\n\n    async handle_post_comment_response(response) {\n        const data = await response.json();\n\n        if (response.status === 200) {\n            this.formWrapperEl.innerHTML = data.html;\n            this.init();\n            if (data.field_focus) {\n                this.formEl.querySelector(`[name=${data.field_focus}]`).focus();\n            }\n        }\n        else if (\n            response.status === 201 ||\n            response.status === 202 ||\n            response.status === 400\n        ) {\n            this.formEl.innerHTML = data.html;\n        }\n        else if (response.status > 400 && response.status < 500) {\n            alert(\n                \"Something went wrong and your comment could not be \" +\n                \"processed. Please, reload the page and try again.\"\n            );\n        }\n    }\n}\n","export default class ReplyFormsHandler {\n    constructor(qsReplyFormBase, qsReplyForms) {\n        this.replyFormBase = document.querySelector(qsReplyFormBase);\n        this.replyMap = new Map();\n\n        const cpage_field = window.dcx.page_param || \"cpage\";\n\n        for (const elem of document.querySelectorAll(qsReplyForms)) {\n            // Extract the reply_to value from the current reply_form.\n            // Also, it if does exist, extract the comment's page number too.\n            // Then replace the content of elem with a copy of\n            // this.replyFormBase and update the fields reply_to\n            // and comment's page number.\n            const rFormEl = elem.querySelector(\"form\");\n            if (rFormEl === null) {\n                console.error(\n                    `Could not find a reply form within one of ` +\n                    `the elements retrieved with ${qsReplyForms}.`\n                );\n                return;\n            }\n\n            const reply_to = rFormEl.elements.reply_to.value;\n            const cpage = rFormEl.elements[cpage_field]\n                ? rFormEl.elements[cpage_field].value\n                : null;\n\n            const section = this.replyFormBase.cloneNode(true);\n            section.dataset.dcx = `reply-form-${reply_to}`;\n\n            // Update fields reply_to and cpage..\n            const newForm = section.querySelector(\"form\");\n            newForm.elements.reply_to.value = reply_to;\n            if (cpage) {\n                newForm.elements[cpage_field].value = cpage;\n            }\n\n            elem.replaceWith(section);\n            this.init(reply_to);\n            this.replyMap.set(reply_to, section);\n        }\n    }\n\n    init(reply_to, is_active) {\n        const qs_section = `[data-dcx=reply-form-${reply_to}]`;\n        const section = document.querySelector(qs_section);\n\n        // Modify the form (update fields, add event listeners).\n        const newForm = section.querySelector(\"form\");\n        const post_btn = newForm.elements.post;\n        post_btn.addEventListener(\"click\", this.send_clicked(reply_to));\n        const preview_btn = newForm.elements.preview;\n        preview_btn.addEventListener(\"click\", this.preview_clicked(reply_to));\n        const cancel_btn = newForm.elements.cancel;\n        cancel_btn.addEventListener(\"click\", this.cancel_clicked(reply_to));\n        newForm.style.display = \"none\";\n\n        // Attach event listener to textarea.\n        const divta = section.querySelector(\"[data-dcx=reply-textarea]\");\n        const ta = divta.querySelector(\"textarea\");\n        ta.addEventListener(\"focus\", this.textarea_focus(reply_to));\n\n        // If is_active is true, hide the textarea and display the form.\n        if (is_active === true) {\n            section.classList.add(\"active\");\n            divta.style.display = \"none\";\n            newForm.style = \"\";\n            newForm.elements.comment.focus();\n        }\n    }\n\n    get_map_item(reply_to) {\n        const item = this.replyMap.get(reply_to);\n        if (item === undefined) {\n            const msg = `replyMap doesn't have a key ${reply_to}`;\n            console.error(msg);\n            throw msg;\n        }\n        return item;\n    }\n\n    disable_buttons(formEl, value) {\n        formEl.elements.post.disabled = value;\n        formEl.elements.preview.disabled = value;\n    }\n\n    is_valid(formEl) {\n        for (const el of formEl.querySelectorAll(\"[required]\")) {\n            if (!el.reportValidity()) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    textarea_focus(reply_to) {\n        // Display the comment form and hide the text area.\n        return (_) => {\n            const item = this.get_map_item(reply_to);\n            const form = item.querySelector(\"form\");\n            const divta = item.querySelector(\"[data-dcx=reply-textarea]\");\n            item.classList.toggle(\"active\");\n            divta.style.display = \"none\";\n            form.style = \"\";\n            form.elements.comment.focus();\n        };\n    }\n\n    cancel_clicked(reply_to) {\n    // Display the text area and hide the comment form.\n        return (_) => {\n            const item = this.get_map_item(reply_to);\n            const form = item.querySelector(\"form\");\n            const divta = item.querySelector(\"[data-dcx=reply-textarea]\");\n            const comment_value = form.elements.comment.value;\n            divta.querySelector(\"textarea\").value = comment_value;\n            item.classList.toggle(\"active\");\n            form.style.display = \"none\";\n            divta.style = \"\";\n\n            const previewEl = item.querySelector(\"[data-dcx=preview]\");\n            if (previewEl) {\n                previewEl.remove();\n            }\n        };\n    }\n\n    preview_clicked(reply_to) {\n        return (_) => {\n            this.post(\"preview\", reply_to);\n        };\n    }\n\n    send_clicked(reply_to) {\n        return (_) => {\n            this.post(\"post\", reply_to);\n        };\n    }\n\n    post(submit_button_name, reply_to) {\n        const item = this.get_map_item(reply_to);\n        const formEl = item.querySelector(\"form\");\n\n        if (!this.is_valid(formEl)) {\n            return;\n        }\n\n        this.disable_buttons(formEl, true);\n\n        const previewEl = item.querySelector(\"[data-dcx=preview]\");\n        if (previewEl) {\n            previewEl.remove();\n        }\n\n        const formData = new FormData(formEl);\n        if (submit_button_name !== undefined) {\n            formData.append(submit_button_name, 1);\n        }\n\n        fetch(formEl.action, {\n            method: \"POST\",\n            headers: {\n                \"X-Requested-With\": \"XMLHttpRequest\",\n            },\n            body: formData\n        }).then(response => {\n            if (submit_button_name === \"preview\") {\n                this.handle_preview_comment_response(response, reply_to);\n            } else if (submit_button_name === \"post\") {\n                this.handle_post_comment_response(response, reply_to);\n            }\n        });\n        this.disable_buttons(formEl, false);\n        return false; // To prevent calling the action attribute.\n    }\n\n    handle_http_200(item, data, reply_to) {\n        const parent = item.parentNode;\n        parent.innerHTML = data.html;\n        const qs_section = `[data-dcx=reply-form-${reply_to}]`;\n        const new_item = parent.querySelector(qs_section);\n        this.replyMap.set(reply_to, new_item);\n        this.init(reply_to, true); // 2nd param: is_active = true.\n        if (data.field_focus) {\n            new_item.querySelector(`[name=${data.field_focus}]`).focus();\n        }\n    }\n\n    handle_http_201_202_400(item, data) {\n        const form = item.querySelector(\"form\");\n        form.innerHTML = data.html;\n    }\n\n    async handle_preview_comment_response(response, reply_to) {\n        const item = this.get_map_item(reply_to);\n        const data = await response.json();\n\n        if (response.status === 200) {\n            this.handle_http_200(item, data, reply_to);\n        } else if (response.status === 400) {\n            this.handle_http_201_202_400(item, data);\n        }\n    }\n\n    async handle_post_comment_response(response, reply_to) {\n        const item = this.get_map_item(reply_to);\n        const data = await response.json();\n\n        if (response.status === 200) {\n            this.handle_http_200(item, data, reply_to);\n        }\n        else if (\n            response.status === 201 ||\n            response.status === 202 ||\n            response.status === 400\n        ) {\n            this.handle_http_201_202_400(item, data);\n        }\n        else if (response.status > 400) {\n            alert(\n                \"Something went wrong and your comment could not be \" +\n                \"processed. Please, reload the page and try again.\"\n            );\n        }\n    }\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","function init_reactions() {\n    const rroot = document.querySelector(\"[data-dcx=config]\");\n    if (rroot === null || window.dcx === null) {\n        return;\n    }\n\n    /* ----------------------------------------------\n     * Initialize dcx namespace values.\n     */\n    if (window.dcx.guest === undefined) {\n        window.dcx.guest = rroot.getAttribute(\"data-guest-user\");\n    }\n    window.dcx.reactions = {\n        choices: [],\n        url: \"/comments/api/react/\"\n    };\n    console.log(`window.dcx:`, window.dcx);\n    window.dcx.reactions.choices = init_reaction_choices(rroot);\n    window.dcx.reactions.url = init_reactions_url(rroot);\n    const header_title = rroot.getAttribute(\"data-reactions-header-title\");\n    const row_length = init_row_length(rroot);\n\n    /* ----------------------------------------------\n     * Initialize the buttons panels and their components.\n     */\n    const links = document.querySelectorAll(\"[data-dcx=reactions-panel]\");\n    if (links.length === 0) {\n        throw new Error(\"Cannot initialize reactions panel => There are no \" +\n            \"elements with [data-dcx=reactions-panel].\");\n    }\n    create_buttons_panels(links, row_length, header_title);\n\n    /* ----------------------------------------------\n     * Initialize reactions-tooltips.\n     */\n    document\n        .querySelectorAll(\"[data-toggle=reactions-tooltip]\")\n        .forEach(node => {\n            node.addEventListener(\"mouseover\", on_mouseover_tooltip);\n            node.addEventListener(\"mouseout\", on_mouseout_tooltip);\n        });\n}\n\nfunction init_reaction_choices(elem) {\n    const reactions = elem.getAttribute(\"data-reactions\");\n    if (reactions === null) {\n        throw new Error(\"Cannot initialize reactions panel => Element with \" +\n            \"[data-dcx=config] attribute is missing \" +\n            \"[data-reactions] attribute.\");\n    } else if (reactions.length === 0) {\n        throw new Error(\"Cannot initialize reactions panel => The \" +\n            \"[data-reactions] attribute is empty.\");\n    }\n    const choices = reactions.split(\";\");\n    if (choices.length < 2) {\n        throw new Error(\"Cannot initialize reactions panels => The \" +\n            \"[data-reactions] attribute must be a semicolon-\" +\n            \"separated list of reactions.\");\n    } else {\n        // Check that each choice is a comma-separated list of 3 items.\n        for (let i = 0; i < choices.length; i++) {\n            if (choices[i].split(\",\").length !== 3) {\n                throw new Error(\"Cannot initialize reactions panels => The \" +\n                    \"[data-reactions] attribute must be a semicolon-\" +\n                    \"separated list of reactions with the format: \" +\n                    \"code,reaction_title,emoji_unicode.\");\n            }\n        }\n    }\n\n    return choices;\n}\n\nfunction init_row_length(elem) {\n    try {\n        const data_row_length = elem.getAttribute(\"data-reactions-row-length\");\n        if (data_row_length === null) {\n            throw new Error(\"Cannot initialize reactions panel => Element \" +\n                \"with [data-dcx=config] attribute is missing \" +\n                \"[data-reactions-row-length] attribute.\");\n        }\n        return parseInt(data_row_length);\n    } catch (e) {\n        throw new Error(\"Cannot initialize reactions panel => The \" +\n            \"[data-reactions-row-length] attribute must be \" +\n            \"an integer.\");\n    }\n}\n\nfunction init_reactions_url(elem) {\n    const url = elem.getAttribute(\"data-reactions-url\");\n    if (url === null || url.length === 0) {\n        if (window.dcx.guest && window.dcx.guest === \"0\") {\n            throw new Error(\"Cannot initialize reactions panel => The \" +\n                \"[data-reactions-url] attribute does not exist or is empty.\");\n        } else {\n            console.info(\"Couldn't find the data-reactions-url attribute, \" +\n                \"but the user is anonymous. She has to login first in order \" +\n                \"to post comment reactions.\");\n        }\n    }\n    return url;\n}\n\n\nfunction toggle_buttons_panel(comment_id) {\n    return (event) => {\n        event.preventDefault();\n        // Hide all the panels but the target.\n        document.querySelectorAll(\".reactions-panel\").forEach(elem => {\n            if (elem.getAttribute(\"data-crpanel\") !== comment_id) {\n                elem.style.display = \"none\";\n            }\n        });\n        // Toggle the panel corresponding to the clicked link.\n        const panel = document.querySelector(`[data-crpanel=\"${comment_id}\"]`);\n        if (panel) {\n            if (panel.style.display !== \"block\") {\n                panel.style.display = \"block\";\n            } else {\n                panel.style.display = \"\";\n            }\n        }\n    };\n}\n\nfunction create_buttons_panels(nodes, row_length, header_title) {\n    for (const elem of Array.from(nodes)) {\n        const comment_id = elem.getAttribute(\"data-comment\");\n        if (comment_id !== null) {\n            const panel = document.createElement(\"div\");\n            panel.className = \"reactions-panel\";\n            panel.setAttribute(\"data-crpanel\", `${comment_id}`);\n\n            const arrow = document.createElement(\"div\");\n            arrow.className = \"arrow\";\n            arrow.style.left = \"10px\";\n            panel.appendChild(arrow);\n\n            const header = document.createElement(\"h3\");\n            header.textContent = header_title;\n            panel.appendChild(header);\n\n            // For each reaction choice create a reaction button.\n            const body = document.createElement(\"p\");\n            for (let i = 0; i < window.dcx.reactions.choices.length; i++) {\n                if (i > 0 && i % row_length === 0) {\n                    body.appendChild(document.createElement(\"br\"));\n                }\n                const login_next_url = elem.getAttribute(\"data-login-next\") || \"\";\n                const btn = create_reaction_btn(window.dcx.reactions.choices[i], comment_id, login_next_url);\n                btn.addEventListener(\"mouseover\", on_mouseover_reaction_btn(header));\n                btn.addEventListener(\"mouseout\", on_mouseout_reaction_btn(header, header_title));\n                body.appendChild(btn);\n            }\n            panel.appendChild(body);\n            elem.parentNode.insertBefore(panel, elem);\n            calc_buttons_panel_position(comment_id);\n            elem.addEventListener(\"click\", toggle_buttons_panel(comment_id));\n        }\n    }\n};\n\nfunction calc_buttons_panel_position(cid) {\n    const panel = document.querySelector(`[data-crpanel=\"${cid}\"]`);\n    if (panel) {\n        const rroot = document.querySelector(\"[data-dcx=config]\");\n        const bottom = parseInt(rroot.getAttribute(\"data-popover-pos-bottom\")) || 0;\n        const left = parseInt(rroot.getAttribute(\"data-popover-pos-left\")) || 0;\n        const elem_sel = `[data-dcx=\"reactions-panel\"][data-comment=\"${cid}\"]`;\n        const elem = document.querySelector(elem_sel);\n        // elem is the <a>React</a>, and elem.parentNode.parentNode is the element\n        // containing the .active-reactions (reactions already selected by users).\n        const anchor_pos = elem.getBoundingClientRect();\n        const footer_pos = elem.parentNode.parentNode.getBoundingClientRect();\n        panel.style.bottom = `${bottom}px`;\n        panel.style.left = `${anchor_pos.x - footer_pos.x - left}px`;\n    }\n}\n\nfunction on_mouseover_reaction_btn(header) {\n    return (event) => {\n        header.textContent = event.target.getAttribute(\"data-title\");\n    };\n}\n\nfunction on_mouseout_reaction_btn(header, header_title) {\n    return (_) => header.textContent = header_title;\n}\n\nfunction on_click_reaction_btn(crid, cid) {\n    return (event) => {\n        event.preventDefault();\n        post_reaction({ comment: cid, reaction: crid }).then(data => {\n            handle_reaction_response(cid, data);\n        });\n    };\n}\n\nfunction on_mouseover_tooltip(event) {\n    const parent_all = event.target.parentNode.parentNode;\n    const bottom = parseInt(parent_all.getAttribute(\"data-tooltip-pos-bottom\")) || 0;\n    const left = parseInt(parent_all.getAttribute(\"data-tooltip-pos-left\")) || 0;\n    const tooltip = event.target.parentNode.children[0];\n    const target_pos = event.target.getBoundingClientRect();\n    const parent_all_pos = parent_all.getBoundingClientRect();\n    if (tooltip.className === \"reactions-tooltip\") {\n        tooltip.style.display = \"block\";\n        tooltip.style.bottom = `${bottom}px`;\n        tooltip.style.left = `${target_pos.x - parent_all_pos.x - left}px`;\n    }\n}\n\nfunction on_mouseout_tooltip(event) {\n    const tooltip = event.target.parentNode.children[0];\n    if (tooltip.className === \"reactions-tooltip\") {\n        tooltip.style.display = \"\";\n    }\n}\n\nfunction get_cookie(name) {\n    let cookieValue = null;\n    if (document.cookie && document.cookie !== '') {\n        const cookies = document.cookie.split(';');\n        for (let i = 0; i < cookies.length; i++) {\n            const cookie = cookies[i].trim();\n            // Does this cookie string begin with the name we want?\n            if (cookie.substring(0, name.length + 1) === (name + '=')) {\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                break;\n            }\n        }\n    }\n    return cookieValue;\n}\n\nasync function post_reaction(data) {\n    const response = await fetch(window.dcx.reactions.url, {\n        method: \"POST\",\n        cache: \"no-cache\",\n        credentials: \"same-origin\",\n        headers: {\n            \"X-CSRFToken\": get_cookie(\"csrftoken\"),\n            \"Content-Type\": \"application/json\",\n            \"Accept\": \"application/json\"\n        },\n        redirect: \"follow\",\n        referrerPolicy: \"no-referrer\",\n        body: JSON.stringify(data)\n    });\n    return response.json();\n}\n\nfunction create_reaction_btn(reaction, cid, login_next_url) {\n    const [crid, title, emoji] = reaction.split(\",\");\n    const button = document.createElement(\"button\");\n    button.setAttribute(\"data-title\", title);\n    button.setAttribute(\"data-code\", crid);\n    button.className = \"emoji\";\n    button.innerHTML = `&${emoji};`;\n    if (window.dcx.guest === \"0\") {\n        button.addEventListener(\"click\", on_click_reaction_btn(crid, cid));\n    } else {\n        button.addEventListener(\"click\", function(_) {\n            window.location.href = (\n                `${window.comments_api_props.login_url}` +\n                `?next=${login_next_url}`\n            );\n        });\n    }\n    return button;\n}\n\nfunction handle_reaction_response(cid, data) {\n    const cm_reactions_div = document.getElementById(`cm-reactions-${cid}`);\n    if (data.counter > 0) {\n        const new_list = create_reactions_list(data);\n        if (cm_reactions_div === null) {\n            const reactions = document.createElement(\"div\");\n            reactions.id = `cm-reactions-${cid}`;\n            reactions.className = \"reactions\";\n            reactions.appendChild(new_list);\n            reactions.insertAdjacentHTML(\"beforeend\", \"&nbsp;\");\n            const cm_footer = document.getElementById(`cm-footer-${cid}`);\n            cm_footer.insertBefore(reactions, cm_footer.children[0]);\n            reactions.insertAdjacentHTML(\"afterend\", \"&nbsp;\");\n        } else {\n            const old_list = cm_reactions_div.querySelector(\".active-reactions\");\n            cm_reactions_div.replaceChild(new_list, old_list);\n        }\n    } else if (cm_reactions_div) {\n        cm_reactions_div.remove();\n    }\n    // Recalculate the position of the reactions buttons panel.\n    calc_buttons_panel_position(cid);\n}\n\nfunction create_reactions_list(data) {\n    const rroot = document.querySelector(\"[data-dcx=config]\");\n    const list = document.createElement(\"div\");\n    list.className = \"active-reactions\";\n    list.setAttribute(\"data-tooltip-pos-bottom\", rroot.getAttribute(\"data-tooltip-pos-bottom\"));\n    list.setAttribute(\"data-tooltip-pos-left\", rroot.getAttribute(\"data-tooltip-pos-left\"));\n    for (const item of data.list) {\n        const reaction = document.createElement(\"span\");\n        reaction.className = \"reaction\";\n        reaction.appendChild(create_tooltip(item));\n        const anchor = document.createElement(\"a\");\n        anchor.className = \"small text-primary\";\n        anchor.setAttribute(\"data-toggle\", \"reactions-tooltip\");\n        anchor.addEventListener(\"mouseover\", on_mouseover_tooltip);\n        anchor.addEventListener(\"mouseout\", on_mouseout_tooltip);\n        anchor.appendChild(document.createTextNode(`${item.counter}`));\n        const emoji = document.createElement(\"span\");\n        emoji.className = \"emoji\";\n        emoji.innerHTML = `&${item.icon};`;\n        anchor.appendChild(emoji);\n        reaction.appendChild(anchor);\n        list.appendChild(reaction);\n    }\n    return list;\n}\n\nfunction create_tooltip(reaction) {\n    const tooltip = document.createElement(\"div\");\n    tooltip.className = \"reactions-tooltip\";\n    const arrow = document.createElement(\"div\");\n    arrow.className = \"arrow\";\n    tooltip.appendChild(arrow);\n    const p = document.createElement(\"p\");\n    p.textContent = `${reaction.authors.join(\", \")} ` +\n        `reacted with ${reaction.label}`;\n    tooltip.appendChild(p);\n    return tooltip;\n}\n\n/* ------------------------------------------------------------------------\n * Initialize the module when the page is loaded.\n *\n * Also, reactions panels must close when the user clicks outside of them,\n * or when the user hits the ESC key.\n */\nwindow.addEventListener(\"mouseup\", (event) => {\n    const data_attr = event.target.getAttribute(\"data-dcx\");\n    if (data_attr !== \"reactions-panel\") {\n        // Clicking outside the \"React\" link must close the reactions panel.\n        document.querySelectorAll(\".reactions-panel\").forEach(elem => {\n            elem.style.display = \"none\";\n        });\n    }\n});\n\nwindow.addEventListener(\"keyup\", (event) => {\n    if (event.key === \"Escape\") {\n        document.querySelectorAll(\".reactions-panel\").forEach(elem => {\n            elem.style.display = \"none\";\n        });\n    }\n});\n\nexport {init_reactions };\n","import { init_comments } from \"./comments.js\";\nimport { init_reactions } from \"./reactions.js\";\n\nwindow.addEventListener(\"DOMContentLoaded\", (_) => {\n    init_comments();\n    init_reactions();\n});\n","import CommentForm from \"./comment_form.js\";\nimport ReplyFormsHandler from \"./reply_forms.js\";\n\n\nfunction init_comments() {\n    const rroot = document.querySelector(\"[data-dcx=config]\");\n    if (rroot === null || window.dcx === null) {\n        console.log(`window.dcx.comment_form: ${window.dcx.comment_form}`);\n        console.log(`Returning here!`);\n        return;\n    }\n\n    if (window.dcx.page_param === undefined) {\n        window.dcx.page_param = rroot.getAttribute(\"data-page-qs-param\");\n    }\n\n    window.dcx.comment_form = null;\n    window.dcx.reply_forms_handler = null;\n\n    /* ----------------------------------------------\n     * Initialize main comment form.\n     */\n    const qs_cform = \"[data-dcx=comment-form]\";\n    if (document.querySelector(qs_cform)) {\n        window.dcx.comment_form = new CommentForm(qs_cform);\n    }\n\n    /* ----------------------------------------------\n     * Initialize reply forms.\n     */\n    const qs_rform_base = \"[data-dcx=reply-form-template]\";\n    const qs_rforms = \"[data-dcx=reply-form]\";\n    if (document.querySelector(qs_rform_base) &&\n        document.querySelectorAll(qs_rforms)\n    ) {\n        window.dcx.reply_forms_handler = new ReplyFormsHandler(qs_rform_base, qs_rforms);\n    }\n}\n\nexport {init_comments };\n"],"names":["module","exports","runtime","undefined","Op","Object","prototype","hasOwn","hasOwnProperty","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","key","value","defineProperty","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","makeInvokeMethod","state","GenStateSuspendedStart","invoke","method","arg","GenStateExecuting","Error","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","done","GenStateSuspendedYield","fn","call","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","resolve","reject","result","__await","then","unwrapped","error","previousPromise","enqueue","callInvokeWithMethodAndArg","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","globalThis","Function","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","__esModule","d","a","definition","o","get","prop","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","arguments","apply","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","_createClass","protoProps","staticProps","CommentForm","formWrapper","init","formWrapperEl","document","querySelector","formEl","post_btn","elements","post","preview_btn","preview","addEventListener","_","console","log","disable_btns","disabled","is_valid","querySelectorAll","reportValidity","submit_button_name","remove","formData","FormData","append","fetch","action","headers","body","response","handle_preview_comment_response","handle_post_comment_response","json","data","status","innerHTML","html","field_focus","focus","alert","ReplyFormsHandler","qsReplyFormBase","qsReplyForms","replyFormBase","replyMap","Map","cpage_field","window","dcx","page_param","elem","rFormEl","reply_to","cpage","section","cloneNode","dataset","newForm","replaceWith","set","is_active","qs_section","send_clicked","preview_clicked","cancel","cancel_clicked","style","display","divta","textarea_focus","classList","add","comment","get_map_item","item","msg","disable_buttons","form","toggle","comment_value","previewEl","handle_http_200","parent","parentNode","new_item","handle_http_201_202_400","arr","len","arr2","Array","_slicedToArray","_arrayWithHoles","isArray","_iterableToArrayLimit","_i","_s","_e","_arr","_n","_d","minLen","toString","from","test","_nonIterableRest","init_reactions","rroot","guest","getAttribute","reactions","choices","url","init_reaction_choices","split","init_reactions_url","header_title","row_length","init_row_length","data_row_length","parseInt","e","links","create_buttons_panels","nodes","comment_id","panel","createElement","className","setAttribute","arrow","left","appendChild","header","textContent","login_next_url","btn","create_reaction_btn","on_mouseover_reaction_btn","on_mouseout_reaction_btn","insertBefore","calc_buttons_panel_position","toggle_buttons_panel","node","on_mouseover_tooltip","on_mouseout_tooltip","event","preventDefault","cid","bottom","elem_sel","anchor_pos","getBoundingClientRect","footer_pos","x","on_click_reaction_btn","crid","post_reaction","reaction","handle_reaction_response","cm_reactions_div","getElementById","counter","new_list","create_reactions_list","list","create_tooltip","anchor","createTextNode","emoji","icon","id","insertAdjacentHTML","cm_footer","children","old_list","replaceChild","parent_all","tooltip","target_pos","parent_all_pos","get_cookie","cookieValue","cookie","cookies","trim","substring","decodeURIComponent","cache","credentials","redirect","referrerPolicy","JSON","stringify","title","button","location","href","comments_api_props","login_url","p","authors","join","label","init_comments","comment_form","reply_forms_handler","qs_cform","qs_rform_base","qs_rforms"],"sourceRoot":""}