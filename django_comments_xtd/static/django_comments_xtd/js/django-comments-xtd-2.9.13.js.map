{"version":3,"file":"django-comments-xtd-2.9.13.js","sources":["src/context.js","src/reducer.js","src/lib.js","src/commentform.jsx","src/comment.jsx","src/commentbox.jsx","src/app.jsx","src/index.js"],"sourcesContent":["import React from 'react';\n\nexport const StateContext = React.createContext({\n  state: {\n    tree: [],\n    cids: [],\n    newcids: [],\n    counter: 0\n  },\n  dispath: () => {}\n});\n\nexport const init_context_default = {\n  comment_count: 0,\n  allow_comments: false,\n  current_user: \"\",\n  request_name: false,\n  request_email_address: false,\n  is_authenticated: false,\n  who_can_post: \"\",\n  allow_flagging: false,\n  allow_feedback: false,\n  show_feedback: false,\n  can_moderate: false,\n  polling_interval: 2000,\n  feedback_url: \"\",\n  delete_url: \"\",\n  dislike_url: \"\",\n  like_url: \"\",\n  login_url: \"\",\n  reply_url: \"\",\n  flag_url: \"\",\n  list_url: \"\",\n  count_url: \"\",\n  send_url: \"\",\n  preview_url: \"\",\n  default_form: {\n    content_type: \"\",\n    object_pk: \"\",\n    timestamp: \"\",\n    security_hash: \"\"\n  },\n  default_followup: false,\n  html_ud_suffix: \"\",\n  max_thread_level: -1\n}\n\nexport const InitContext = React.createContext(init_context_default);","export function create_tree(cids, data) {\n  const tree = new Array();\n  const corder = new Array();\n  const comments = {};\n  const children = {};\n  let in_cids = new Set();\n  let cur_cids = new Set();\n  let new_cids = new Set();\n\n  function get_children(cid) {\n    return children[cid].map(index => {\n      if (comments[index].children === undefined) {\n        comments[index].children = get_children(index);\n      }\n      return comments[index];\n    });\n  }\n\n  for (const item of data) {\n    in_cids.add(item.id);\n    comments[item.id] = item;\n    if (item.level === 0) {\n      corder.push(item.id);\n    }\n    children[item.id] = [];\n    if (item.parent_id !== item.id) {\n      children[item.parent_id].push(item.id);\n    }\n  }\n\n  for (const id of corder) {\n    comments[id].children = get_children(id);\n    tree.push(comments[id]);\n  }\n\n  if (in_cids.size > 0) {\n    if (cids.size > 0) {\n      for (const id of in_cids) {\n        if (!cids.has(id)) {\n          new_cids.add(id);\n        }\n        cur_cids.add(id);\n      }\n    } else {\n      cur_cids = in_cids;\n      new_cids = new Set();\n    }\n  }\n\n  return {\n    tree,\n    cids: cur_cids,\n    newcids: new_cids,\n    counter: cur_cids.size\n  }\n}\n\nexport function reducer(state, action) {\n  switch (action.type) {\n    case 'CREATE_TREE': {\n      return {\n        ...state,\n        ...create_tree(state.cids, action.data)\n      }\n    }\n    case 'UPDATE_COUNTER': {\n      return {\n        ...state,\n        counter: action.counter,\n      }\n    }\n    default: {\n      return state;\n    }\n  }\n}\n","export function getCookie(name) {\n  let value;\n  if (document.cookie && document.cookie !== '') {\n    const all_cookies = document.cookie.split(';');\n    for (const cookie of all_cookies) {\n      const content = cookie.trim();\n      if (content.slice(0, name.length + 1) === (name + '=')) {\n        value = decodeURIComponent(content.slice(name.length + 1));\n        break;\n      }\n    }\n  }\n  return value;\n}\n","import django from 'django';\nimport React, { useContext, useState } from 'react';\nimport { Remarkable } from 'remarkable';\n\nimport { getCookie } from './lib.js';\nimport { InitContext } from './context';\n\n\nexport function FieldIsRequired({replyTo}) {\n  return (\n    <span\n      className=\"form-text small invalid-feedback\"\n      {...((replyTo > 0) && {style: {\"fontSize\": \"0.71rem\"}})}\n    >\n      {django.gettext(\"This field is required.\")}\n    </span>\n  );\n}\n\n\nexport function PreviewComment({avatar, name, url, comment, replyTo}) {\n  const {\n    is_authenticated,\n    current_user\n  } = useContext(InitContext);\n\n  const get_heading_name = () => {\n    if (url.length > 0)\n      return (<a href={url} target=\"_new\">{name}</a>);\n    else if (is_authenticated)\n      return current_user.split(\":\")[1];\n    else\n      return name;\n  }\n\n  const raw_markup = () => {\n    const md = new Remarkable();\n    const _raw_markup = md.render(comment);\n    return { __html: _raw_markup };\n  }\n\n  return (\n    <div>\n      <hr />\n      {!replyTo && (\n        <h5 className=\"text-center\">\n          {django.gettext(\"Your comment in preview\")}\n        </h5>\n      )}\n      <div className={`comment d-flex ` + ((replyTo > 0) ? \"mt-1\" : \"mt-5\")}>\n        <img className=\"me-3\" src={avatar} height=\"48\" width=\"48\" />\n        <div className=\"d-flex flex-column pb-3\">\n          <span style={{fontSize: \"0.8rem\"}}>\n            {django.gettext(\"Now\")} - {get_heading_name()}  {replyTo > 0 && (\n              <div className=\"badge badge-info\">preview</div>\n            )}</span>\n          <div\n            className=\"content py-2\"\n            dangerouslySetInnerHTML={raw_markup()}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\n\nexport function CommentForm({ replyTo, onCommentCreated }) {\n  const {\n    default_followup,\n    default_form,\n    is_authenticated,\n    preview_url,\n    request_email_address,\n    request_name,\n    send_url\n  } = useContext(InitContext);\n\n  const [lstate, setLstate] = useState({\n    previewing: false,\n    submitted: false,\n    avatar: undefined, name: \"\", email: \"\", url: \"\", comment: \"\",\n    followup: default_followup,\n    errors: { name: false, email: false, comment: false },\n    alert: { message: \"\", cssc: \"\" }\n  });\n\n  const handle_input_change = (event) => {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const iname = target.name;\n\n    setLstate({ ...lstate, [iname]: value });\n  }\n\n  const is_valid_data = () => {\n    let is_valid_name = true, is_valid_email = true;\n\n    if (!is_authenticated || request_name)\n      is_valid_name = (/^\\s*$/.test(lstate.name)) ? false : true;\n\n    if (!is_authenticated || request_email_address)\n      is_valid_email = (/\\S+@\\S+\\.\\S+/.test(lstate.email)) ? true : false;\n\n    const is_valid_comment = (/^\\s*$/.test(lstate.comment)) ? false : true;\n\n    setLstate({\n      ...lstate,\n      errors: {\n        ...lstate.errors,\n        name: !is_valid_name,\n        email: !is_valid_email,\n        comment: !is_valid_comment\n      }\n    });\n\n    return is_valid_name && is_valid_email && is_valid_comment;\n  }\n\n  const handle_submit = (event) => {\n    event.preventDefault();\n    if (!is_valid_data()) {\n      return;\n    }\n\n    const data = {\n      ...default_form,\n      honeypot: '',\n      comment: lstate.comment,\n      name: lstate.name,\n      email: lstate.email,\n      url: lstate.url,\n      followup: lstate.followup,\n      reply_to: replyTo\n    };\n\n    const _promise = fetch(\n      send_url,\n      {\n        method: 'POST',\n        mode: 'cors',\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"X-CSRFToken\": getCookie(\"csrftoken\")\n        },\n        body: JSON.stringify(data),\n      }\n    );\n    _promise.then(response => {\n      if ([201, 202, 204, 403].includes(response.status)) {\n        let css_class = \"\";\n        const msg_202 = django.gettext(\n          \"Your comment will be reviewed. Thank your for your patience.\");\n        const msg_204 = django.gettext(\n          \"Thank you, a comment confirmation request has been sent by mail.\");\n        const msg_403 = django.gettext(\n          \"Sorry, your comment has been rejected.\");\n        const message = {\n          202: msg_202,\n          204: msg_204,\n          403: msg_403\n        };\n\n\n        const cssc = (replyTo > 0 ? \"mb-0 \" : \"\") + \"small alert alert-\";\n        css_class = (response.status == 403) ? cssc + \"danger\" : cssc + \"info\";\n\n        const _errors = response.status < 300\n          ? { name: false, email: false, comment: false }\n          : { ...lstate.errors };\n\n        setLstate({\n          ...lstate,\n          alert: {\n            message: message[response.status],\n            cssc: css_class\n          },\n          previewing: false,\n          submitted: true,\n          name: '', email: '', url: '', followup: false, comment: '',\n          errors: _errors\n        });\n\n        onCommentCreated();\n      }\n    })\n  }\n\n  const handle_preview = (event) => {\n    event.preventDefault();\n    if (!is_valid_data())\n      return;\n\n    const _promise = fetch(\n      preview_url,\n      {\n        method: 'POST',\n        mode: 'cors',\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"X-CSRFToken\": getCookie(\"csrftoken\")\n        },\n        body: JSON.stringify({ email: lstate.email }),\n      }\n    );\n    _promise.then(response => {\n      if (response.status === 200)\n        return response.json();\n      else throw new Error(`Status ${response.status}`);\n    }).then(data => {\n      setLstate({\n        ...lstate,\n        avatar: data.url,\n        previewing: true\n      });\n    }).catch(error => console.error(error));\n  }\n\n  const get_field_css_classes = (field) => {\n    let css_classes = \"row justify-content-center form-group\";\n    if (field === \"followup\")\n      css_classes += \" my-3\";\n    else\n      css_classes += (replyTo > 0) ? \" my-2\" : \" my-3\";\n\n    if (   (field === \"name\" && lstate.errors.name)\n        || (field === \"email\" && lstate.errors.email)\n        || (field === \"comment\" && lstate.errors.comment)\n    ) {\n      css_classes += \" has-danger\";\n    }\n\n    return css_classes;\n  }\n\n  const get_input_css_classes = (field) => {\n    let css_classes = \"form-control\";\n    css_classes += (replyTo > 0) ? \" form-control-sm\" : \"\";\n\n    if (   (field === \"name\" && lstate.errors.name)\n        || (field === \"email\" && lstate.errors.email)\n        || (field === \"comment\" && lstate.errors.comment)\n    ) {\n      css_classes += \" is-invalid\";\n    }\n\n    return css_classes;\n  }\n\n  const render_comment_field = () => {\n    return (\n      <div className={get_field_css_classes(\"comment\")}>\n        <div className={(replyTo > 0) ? \"col-12\" : \"col-10\"}>\n          <textarea\n            required name=\"comment\" id=\"id_comment\"\n            value={lstate.comment} maxLength={3000}\n            placeholder={django.gettext(\"Your comment\")}\n            className={get_input_css_classes(\"comment\")}\n            onChange={handle_input_change}\n          />\n          {lstate.errors.comment && <FieldIsRequired replyTo={replyTo} />}\n        </div>\n      </div>\n    );\n  }\n\n  const render_name_field = () => {\n    if (is_authenticated && !request_name)\n      return <></>;\n\n    return (\n      <div className={get_field_css_classes(\"name\")}>\n        <div className=\"col-2 text-end\">\n          <label\n            htmlFor=\"id_name\"\n            className={\n              (replyTo > 0) ? \"form-control-sm\" : \"col-form-label\"\n            }\n          >{django.gettext(\"Name\")}</label>\n        </div>\n        <div className={(replyTo > 0) ? \"col-9\" : \"col-7\"}>\n          <input\n            required type=\"text\" name=\"name\" id=\"id_name\"\n            value={lstate.name} placeholder={django.gettext('name')}\n            onChange={handle_input_change}\n            className={get_input_css_classes(\"name\")}\n          />\n          {lstate.errors.name && <FieldIsRequired replyTo={replyTo} />}\n        </div>\n      </div>\n    );\n  }\n\n  const render_email_field = () => {\n    if (is_authenticated && !request_email_address)\n      return <></>;\n\n    let help_cssc = \"form-text small\";\n    help_cssc += lstate.errors.email ? \" invalid-feedback\" : \"\";\n\n    return (\n      <div className={get_field_css_classes(\"email\")}>\n        <div className=\"col-2 text-end\">\n          <label\n            htmlFor=\"id_name\"\n            className={\n              (replyTo > 0) ? \"form-control-sm\" : \"col-form-label\"\n            }\n          >{django.gettext(\"Mail\")}</label>\n        </div>\n        <div className={(replyTo > 0) ? \"col-9\" : \"col-7\"}>\n          <input\n            required type=\"text\" name=\"email\" id=\"id_email\"\n            value={lstate.email} placeholder={django.gettext('mail address')}\n            onChange={handle_input_change}\n            className={get_input_css_classes(\"email\")}\n          />\n          <span\n            className={help_cssc}\n            {...((replyTo > 0) && {style: {\"fontSize\": \"0.71rem\"}})}\n          >\n            {django.gettext('Required for comment verification.')}\n          </span>\n        </div>\n      </div>\n    );\n  }\n\n  const render_url_field = () => {\n    if (is_authenticated)\n      return <></>;\n\n    return (\n      <div className={get_field_css_classes(\"url\")}>\n        <div className=\"col-2 text-end\">\n          <label\n            htmlFor=\"id_url\"\n            className={\n              (replyTo > 0) ? \"form-control-sm\" : \"col-form-label\"\n            }\n          >{django.gettext(\"Link\")}</label>\n        </div>\n        <div className={(replyTo > 0) ? \"col-9\" : \"col-7\"}>\n          <input\n            type=\"text\" name=\"url\" id=\"id_url\"\n            value={lstate.url}\n            placeholder={django.gettext(\"url your name links to (optional)\")}\n            onChange={handle_input_change}\n            className={get_input_css_classes(\"url\")}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  const render_followup_field = () => {\n    const elem_id = (replyTo > 0) ? `_${replyTo}` : \"id_followup\";\n    const cssc = \"form-check d-flex justify-content-center align-items-center\";\n\n    return (\n      <div className={get_field_css_classes(\"followup\")}>\n        <div className={(replyTo > 0) ? \"col-10\" : \"col-7\"}>\n          <div className={cssc}>\n            <input\n              name=\"followup\" type=\"checkbox\"\n              id={elem_id}\n              onChange={handle_input_change}\n              className=\"form-check-input\"\n              checked={lstate.followup}\n            />\n            <label\n              htmlFor={elem_id}\n              className={\"ps-2 form-check-label\" + (replyTo > 0 && \" small\")}\n            >\n              &nbsp;{django.gettext(\"Notify me about follow-up comments\")}\n            </label>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      {lstate.previewing && (\n        <PreviewComment\n          avatar={lstate.avatar}\n          name={lstate.name}\n          url={lstate.url}\n          comment={lstate.comment}\n          replyTo={replyTo}\n        />\n      )}\n      <div className={(replyTo === 0) ? \"card mt-4 mb-5\" : \"card mt-2\"}>\n        <div className=\"card-body\">\n          {(replyTo === 0) && (\n            <h4 className=\"card-title text-center pb-3\">\n              {django.gettext(\"Post your comment\")}\n            </h4>\n          )}\n          {(lstate.alert.message && lstate.alert.message.length > 0) && (\n            <div className={lstate.alert.cssc}>{lstate.alert.message}</div>\n          )}\n          {(!lstate.submitted || replyTo === 0) && (\n            <form method=\"POST\" onSubmit={handle_submit}>\n              <fieldset>\n                <input type=\"hidden\" name=\"content_type\"\n                  defaultValue={default_form.content_type} />\n                <input type=\"hidden\" name=\"object_pk\"\n                  defaultValue={default_form.object_pk} />\n                <input type=\"hidden\" name=\"timestamp\"\n                  defaultValue={default_form.timestamp} />\n                <input type=\"hidden\" name=\"security_hash\"\n                  defaultValue={default_form.security_hash} />\n                <input type=\"hidden\" name=\"reply_to\"\n                  defaultValue={replyTo} />\n                <div style={{display:'none'}}>\n                  <input type=\"text\" name=\"honeypot\" defaultValue=\"\" />\n                </div>\n                {render_comment_field()}\n                {render_name_field()}\n                {render_email_field()}\n                {render_url_field()}\n                {render_followup_field()}\n              </fieldset>\n              <div\n                className={\n                  \"row my-2 form-group\" + (replyTo > 0 ? \" mb-0\" : \"\")\n                }\n              >\n                <div className=\"d-flex justify-content-center\">\n                  <button\n                    type=\"submit\"\n                    name=\"post\"\n                    className={\n                      \"btn btn-primary me-1\" + (replyTo > 0 ? \" btn-sm\" : \"\")\n                    }\n                  >{django.gettext(\"send\")}</button>\n                  <button\n                    name=\"preview\"\n                    className={\n                      \"btn btn-secondary\" + (replyTo > 0 ? \" btn-sm\" : \"\")\n                    }\n                    onClick={handle_preview}\n                  >{django.gettext(\"preview\")}</button>\n                </div>\n              </div>\n            </form>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import django from 'django';\nimport React, { useContext, useEffect, useMemo, useState } from 'react';\nimport { Remarkable } from 'remarkable';\n\nimport { getCookie } from './lib.js';\nimport { InitContext, StateContext } from './context.js';\nimport { CommentForm } from './commentform.jsx';\n\n\n// --------------------------------------------------------------------\nexport function UserPart({\n  userName, userUrl, isRemoved, userModerator\n}) {\n  const user = useMemo(() => {\n    return (userUrl && !isRemoved)\n      ? <a\n        href={userUrl}\n        className=\"text-decoration-none\"\n        title=\"User's link\">{userName}</a>\n      : userName;\n  }, [userUrl, isRemoved]);\n\n  const moderator = useMemo(() => {\n    if (userModerator) {\n      const label = django.gettext(\"moderator\");\n      return (\n        <span>&nbsp;\n          <span className=\"badge text-bg-secondary\">{label}</span>\n        </span>\n      );\n    } else\n      return <></>;\n  }, [userModerator]);\n\n  return (<span>{user}{moderator}</span>);\n}\n\n// --------------------------------------------------------------------\n// The TopRightPart displays:\n//  * The \"flag this comment\" link, and\n//  * The \"remove this comment\" link.\n\nexport function TopRightPart({\n  allowFlagging,\n  canModerate,\n  commentId,\n  deleteUrl,\n  flagUrl,\n  isAuthenticated,\n  isRemoved,\n  loginUrl,\n  userRequestedRemoval,\n  removalCount,\n}) {\n  const flagging_count = useMemo(() => {\n    if (isAuthenticated && canModerate && removalCount > 0) {\n      const fmts = django.ngettext(\n        \"%s user has flagged this comment as inappropriate.\",\n        \"%s users have flagged this comment as inappropriate.\",\n        removalCount\n      );\n      const text = django.interpolate(fmts, [removalCount]);\n      return (\n        <span className=\"small text-danger\" title={text}>{removalCount}</span>\n      );\n    } else {\n      return <></>;\n    }\n  }, [isAuthenticated, canModerate, removalCount]);\n\n  const flagging_html = useMemo(() => {\n    if (!allowFlagging)\n      return <></>;\n\n    let inapp_msg = \"\";\n    if (userRequestedRemoval) {\n      inapp_msg = django.gettext(\"I flagged it as inappropriate\");\n      return (\n        <>\n          {flagging_count}&nbsp;\n          <i className=\"bi bi-flag text-danger\" title={inapp_msg}></i>\n        </>\n      );\n    } else {\n      const url = (isAuthenticated)\n        ? flagUrl.replace('0', commentId)\n        : loginUrl + \"?next=\" + flagUrl.replace('0', commentId);\n      inapp_msg = django.gettext(\"flag comment as inappropriate\");\n      return (\n        <>\n          {flagging_count}&nbsp;\n          <a className=\"text-decoration-none\" href={url}>\n            <i className=\"bi bi-flag\" title={inapp_msg}></i>\n          </a>\n        </>\n      );\n    }\n  }, [allowFlagging, userRequestedRemoval]);\n\n  const moderate_html = useMemo(() => {\n    if (isAuthenticated && canModerate) {\n      const remove_msg = django.gettext(\"remove comment\");\n      const url = deleteUrl.replace('0', commentId);\n      return (\n        <a className=\"text-decoration-none\" href={url}>\n          <i className=\"bi bi-trash\" title={remove_msg}></i>\n        </a>\n      );\n    } else {\n      return <></>;\n    }\n  }, [isAuthenticated, canModerate]);\n\n  if (isRemoved)\n    return <></>;\n\n  return (\n    <div className=\"d-inline\">{flagging_html} {moderate_html}</div>\n  )\n}\n\n\n// --------------------------------------------------------------------\n// The FeedbackPart displays:\n//  * The \"flag this comment\" link, and\n//  * The \"remove this comment\" link.\n\nexport function FeedbackPart({\n  allowFeedback,\n  commentId,\n  currentUser,\n  onLikeClicked,\n  onDislikeClicked,\n  showFeedback,\n  userLikeList,\n  userDislikeList\n}) {\n  const cur_user_id = currentUser.split(\":\")[0];\n\n  const get_user_list = (dir) => {\n    return (dir === \"like\")\n      ? userLikeList\n      : userDislikeList;\n  }\n\n  const get_feedback_chunk = (dir) => {\n    if (!allowFeedback)\n      return <></>;\n\n    const user_list = [...get_user_list(dir)];\n    const userids = new Set(user_list.map(item => item.split(\":\")[0]));\n    const usernames = user_list.map(item => item.split(\":\")[1]);\n\n    const click_hdl = dir == 'like' ? onLikeClicked : onDislikeClicked;\n    let icon = (dir == 'like') ? 'hand-thumbs-up' : 'hand-thumbs-down';\n    icon += userids.has(cur_user_id) ? '-fill' : '';\n    const class_icon = \"bi bi-\"+icon;\n    const title = (dir == 'like')\n      ? django.gettext('I like it')\n      : django.gettext('I dislike it');\n\n\n    return (\n      <>\n        {showFeedback && (user_list.length > 0) && (\n          <a\n            className=\"small text-decoration-none\"\n            data-bs-html=\"true\"\n            data-bs-toggle=\"tooltip\"\n            data-bs-title={usernames.join(\"<br/>\")}\n          >{user_list.length}</a>\n        )}\n        <a href=\"#\" onClick={click_hdl}>\n          <i className={class_icon} title={title}></i>\n        </a>\n      </>\n    );\n  }\n\n  const likeFeedback = get_feedback_chunk(\"like\");\n  const dislikeFeedback = get_feedback_chunk(\"dislike\");\n\n  return (allowFeedback\n    ? (\n      <div id={`feedback-${commentId}`} className=\"d-inline small\">\n        {likeFeedback}\n        &nbsp;<span className=\"text-muted\">&sdot;</span>&nbsp;\n        {dislikeFeedback}\n      </div>\n    )\n    : <></>\n  );\n}\n\n\n// --------------------------------------------------------------------\n// The ReplyFormPart displays:\n//  * The \"reply\" link. (it can be precedeed with a &bull;)\n//  * The \"reply\" form.\n\nexport function ReplyFormPart({\n  allowFeedback,\n  commentId,\n  level,\n  maxThreadLevel,\n  onCommentCreated,\n  onReplyClick,\n  replyFormVisible,\n  replyUrl,\n}) {\n  const url = replyUrl.replace('0', commentId);\n  const label = django.gettext(\"Reply\");\n\n  if (level >= maxThreadLevel)\n    return <></>;\n\n  return (\n    <>\n      {allowFeedback\n        ? (\n          <span>\n            &nbsp;&nbsp;<span className=\"text-muted\">&bull;</span>&nbsp;&nbsp;\n            <a\n              className=\"small text-decoration-none\"\n              onClick={onReplyClick}\n              href={url}\n            >{label}</a>\n          </span>\n        )\n        : (\n          <a\n            className=\"small text-decoration-none\"\n            onClick={onReplyClick}\n            href={url}\n          >{label}</a>\n        )\n      }\n      {replyFormVisible\n        ? (\n          <CommentForm\n            replyTo={commentId}\n            onCommentCreated={onCommentCreated}\n          />\n        )\n        : <></>\n      }\n    </>\n  );\n}\n\n// --------------------------------------------------------------------\n// The CommentBodyPart component.\n\nexport function CommentBodyPart({ allowFeedback, comment, isRemoved }) {\n  const rawMarkup = useMemo(() => {\n    const md = new Remarkable();\n    const _markup = md.render(comment);\n    return { __html: _markup };\n  }, [comment]);\n\n  const extra_space = (allowFeedback) ? \"py-1\" : \"pt-1 pb-3\";\n\n  if (isRemoved) {\n    const cls = `text-muted ${extra_space}`;\n    return <p className={cls}><em>{comment}</em></p>;\n  } else {\n    const cls = `content ${extra_space}`;\n    return <div className={cls} dangerouslySetInnerHTML={rawMarkup}/>;\n  }\n}\n\n// --------------------------------------------------------------------\nexport function reduce_flags(data, current_user) {\n  const result = {\n    like: [],\n    dislike: [],\n    removal: { is_active: false, count: 0 }\n  }\n  for (const item of data) {\n    const user = [item.id, item.user].join(\":\");\n    switch (item.flag) {\n      case \"like\": {\n        result.like.push(user);\n        break;\n      }\n      case \"dislike\": {\n        result.dislike.push(user);\n        break;\n      }\n      case \"removal\": {\n        result.removal.count += 1;\n        result.removal.is_active = user === current_user ? true : false;\n        break;\n      }\n    }\n  }\n  return result;\n}\n\n\nexport function Comment(props) {\n  const { data } = props;\n  const {\n    allow_feedback,\n    allow_flagging,\n    can_moderate,\n    current_user,\n    delete_url,\n    dislike_url,\n    feedback_url,\n    flag_url,\n    is_authenticated,\n    like_url,\n    login_url,\n    max_thread_level,\n    reply_url,\n    show_feedback,\n    who_can_post\n  } = useContext(InitContext);\n\n  const { state } = useContext(StateContext);\n  const { newcids } = state;\n\n  const _flags = reduce_flags(data.flags, current_user);\n\n  const [lstate, setLstate] = useState({\n    current_user: current_user,\n    removal: _flags.removal.is_active,\n    removal_count: _flags.removal.count,\n    like_users: _flags.like,\n    dislike_users: _flags.dislike,\n    is_reply_form_visible: false\n  });\n\n  const handle_comment_created = () => {\n    props.onCommentCreated();\n    if (is_authenticated) {\n      setLstate({ ...lstate, is_reply_form_visible: false });\n    }\n  }\n\n  const handle_reply_click = (event) => {\n    event.preventDefault();\n\n    if (who_can_post === 'users' && !is_authenticated) {\n      return window.location.href = (\n        `${login_url}?next=${reply_url.replace('0', data.id)}`\n      );\n    }\n\n    setLstate({\n      ...lstate,\n      is_reply_form_visible: !lstate.is_reply_form_visible\n    });\n  }\n\n  const post_feedback = (flag) => {\n    const _promise = fetch(\n      feedback_url,\n      {\n        method: 'POST',\n        mode: 'cors',\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"X-CSRFToken\": getCookie(\"csrftoken\")\n        },\n        body: JSON.stringify({ comment: data.id, flag: flag }),\n      }\n    );\n    _promise.then(response => {\n      const _like_users = new Set(lstate.like_users);\n      const _dislike_users = new Set(lstate.dislike_users);\n      switch (response.status) {\n        case 201: {\n          if (flag == 'like') {\n            _like_users.add(current_user);\n            _dislike_users.delete(current_user);\n          } else if (flag == 'dislike') {\n            _like_users.delete(current_user);\n            _dislike_users.add(current_user);\n          }\n          setLstate({\n            ...lstate,\n            like_users: [..._like_users],\n            dislike_users: [..._dislike_users]\n          });\n          break;\n        }\n        case 204: {\n          if (flag == 'like') {\n            _like_users.delete(current_user);\n          } else if (flag == 'dislike') {\n            _dislike_users.delete(current_user);\n          }\n          setLstate({\n            ...lstate,\n            like_users: [..._like_users],\n            dislike_users: [..._dislike_users]\n          });\n          break;\n        }\n        case 400: {\n          response.json().then(data => {\n            console.error(data);\n          });\n          break;\n        }\n      }\n    });\n  }\n\n  const action_like = (event) => {\n    event.preventDefault();\n    if (is_authenticated) {\n      return post_feedback('like');\n\n    }\n    const redirect = `${login_url}?next=${like_url.replace('0', data.id)}`;\n    return window.location.href = redirect;\n  }\n\n  const action_dislike = (event) => {\n    event.preventDefault();\n    if (is_authenticated) {\n      return post_feedback('dislike');\n    }\n\n    const redirect = `${login_url}?next=${dislike_url.replace('0', data.id)}`;\n    return window.location.href = redirect;\n  }\n\n  useEffect(() => {\n    const qs_tooltip = '[data-bs-toggle=\"tooltip\"]';\n    const tooltipTriggerList = document.querySelectorAll(qs_tooltip);\n    [...tooltipTriggerList].map(\n      tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl)\n    );\n  }, [lstate]);\n\n  return (\n    <div id={`c${data.id}`} className=\"comment d-flex\">\n      <img src={data.user_avatar} className=\"me-3\" height=\"48\" width=\"48\" />\n      <div className=\"d-flex flex-column flex-grow-1 pb-3\">\n        <h6\n          className=\"comment-header mb-1 d-flex justify-content-between\"\n          style={{ fontSize: \"0.8rem\"}}\n        >\n          <div className=\"d-inline flex-grow-1\">\n            {newcids.has(data.id) && (\n              <span>\n                <span className=\"badge text-bg-success\">new</span>&nbsp;-&nbsp;\n              </span>\n            )}\n            {data.submit_date}&nbsp;-&nbsp;\n            <UserPart\n              userName={data.user_name}\n              userUrl={data.user_url}\n              isRemoved={data.is_removed}\n              userModerator={data.user_moderator}\n            />\n            &nbsp;&nbsp;\n            <a\n              className=\"permalink text-decoration-none\"\n              title={django.gettext(\"comment permalink\")}\n              href={data.permalink}\n            >Â¶</a>\n          </div>\n          <TopRightPart\n            allowFlagging={allow_flagging}\n            canModerate={can_moderate}\n            commentId={data.id}\n            deleteUrl={delete_url}\n            flagUrl={flag_url}\n            isAuthenticated={is_authenticated}\n            isRemoved={data.is_removed}\n            loginUrl={login_url}\n            userRequestedRemoval={lstate.removal}\n            removalCount={lstate.removal_count}\n          />\n        </h6>\n        <CommentBodyPart\n          allowFeedback={allow_feedback}\n          comment={data.comment}\n          isRemoved={data.is_removed}\n        />\n        {!data.is_removed && (\n          <div>\n            <FeedbackPart\n              allowFeedback={allow_feedback}\n              commentId={data.id}\n              currentUser={current_user}\n              onLikeClicked={action_like}\n              onDislikeClicked={action_dislike}\n              showFeedback={show_feedback}\n              userLikeList={lstate.like_users}\n              userDislikeList={lstate.dislike_users}\n            />\n            <ReplyFormPart\n              allowFeedback={allow_feedback}\n              commentId={data.id}\n              level={data.level}\n              maxThreadLevel={max_thread_level}\n              onCommentCreated={handle_comment_created}\n              onReplyClick={handle_reply_click}\n              replyFormVisible={lstate.is_reply_form_visible}\n              replyUrl={reply_url}\n            />\n          </div>\n        )}\n        {(data.children.length > 0) && (\n          <div className=\"pt-3\">\n            {data.children?.map((item) => (\n              <Comment\n                key={item.id}\n                data={item}\n                onCommentCreated={props.onCommentCreated}\n              />\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","import django from 'django';\nimport React, { useContext, useEffect, useMemo } from 'react';\n\nimport { InitContext, StateContext } from './context';\nimport { Comment } from './comment.jsx';\nimport { CommentForm } from './commentform.jsx';\n\n\nfunction CommentCounter({counter}) {\n  const text = useMemo(() => {\n    const fmts = django.ngettext(\"%s comment.\", \"%s comments.\", counter);\n    return django.interpolate(fmts, [counter]);\n  }, [counter]);\n\n  return (counter > 0)\n    ? <h5 className=\"text-center\">{text}</h5>\n    : <></>;\n}\n\n\nfunction CommentFormWrapper({replyTo, onCommentCreated}) {\n  const {\n    allow_comments,\n    who_can_post,\n    is_authenticated,\n    html_id_suffix,\n  } = useContext(InitContext);\n\n  if (allow_comments) {\n    if (who_can_post === 'all' ||\n      (who_can_post === 'users' && is_authenticated)\n    ) {\n      return (\n        <CommentForm replyTo={replyTo} onCommentCreated={onCommentCreated} />\n      );\n    }\n\n    const _id = `only-users-can-post-${html_id_suffix}`;\n    const elem = document.getElementById(_id);\n\n    return (elem)\n      ? <div dangerouslySetInnerHTML={{__html: elem.innerHTML}} />\n      : (\n        <h5 className=\"mt-4 mb-5 text-center text-info\">\n          {django.gettext(\"Only registered users can post comments.\")}\n        </h5>\n      );\n  }\n\n  return (\n    <h4 className=\"mt-4 mb-5 text-center text-secondary\">\n      {django.gettext(\"Comments are disabled for this article.\")}\n    </h4>\n  );\n}\n\n\nfunction UpdateAlert({counter, cids, onClick }) {\n  const diff = counter - cids.size;\n\n  if (diff > 0) {\n    const fmts = django.ngettext(\n      \"There is %s new comment.\", \"There are %s new comments.\", diff);\n    const message = django.interpolate(fmts, [diff]);\n\n    return (\n      <div\n        className={(`alert alert-info` +\n                   ` d-flex justify-content-between align-items-center`)}>\n        <p className=\"mb-0\">{message}</p>\n        <button\n          type=\"button\" className=\"btn btn-secondary btn-xs\"\n          onClick={() => onClick()}>update</button>\n      </div>\n    );\n  } else return <></>;\n}\n\n\nexport function CommentBox() {\n  const { count_url, list_url, polling_interval } = useContext(InitContext);\n  const { state, dispatch } = useContext(StateContext);\n  const { counter, cids, tree } = state;\n\n  const load_comments = () => {\n    const _promise = fetch(list_url);\n    _promise.then(response => {\n      return response.json();\n    }).then(data => {\n      dispatch({ type: 'CREATE_TREE', data });\n    }).catch(error => console.error(error));\n  }\n\n  const load_count = () => {\n    const _promise = fetch(count_url);\n    _promise.then(response => {\n      return response.json();\n    }).then(data => {\n      dispatch({ type: 'UPDATE_COUNTER', counter: data.count });\n    }).catch(error => console.error(error));\n  }\n\n  useEffect(() => {\n    if (polling_interval > 0) {\n      setInterval(load_count, polling_interval);\n    }\n    load_comments();\n  }, [polling_interval]);\n\n  return (\n    <div>\n      <CommentCounter counter={counter} />\n      <CommentFormWrapper replyTo={0} onCommentCreated={load_comments} />\n      <UpdateAlert\n        counter={counter} cids={cids} onClick={load_comments}\n      />\n      <div className=\"comment-tree\">\n        {tree.map(item => (\n          <Comment\n            key={item.id} data={item} onCommentCreated={load_comments}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n","import React, { useReducer } from 'react';\n\nimport { InitContext, StateContext } from './context.js';\nimport { reducer } from './reducer.js';\nimport { CommentBox } from './commentbox.jsx';\n\n/*\n * props is an object containing all the attributes sent\n * by the get_commentbox_props templatetag (a django-comments-xtd tag).\n * It happens to be the output of the function commentbox_props, in the\n * module django_comments_xtd/frontend.py.\n * Here in JavaScript the structure of the props matches the\n * InitContext, in the context.js module.\n */\n\nexport function App(props) {\n  const initial_state = {\n    tree: [],\n    cids: new Set(),\n    newcids: new Set(),\n    counter: props.comment_count\n  }\n  const [ state, dispatch ] = useReducer(reducer, initial_state);\n\n  return (\n    <StateContext.Provider value={{ state, dispatch }}>\n      <InitContext.Provider value={props}>\n        <CommentBox />\n      </InitContext.Provider>\n    </StateContext.Provider>\n  )\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { App } from './app.jsx';\n\nconst root = ReactDOM.createRoot(document.getElementById('comments'));\nroot.render(\n  React.createElement(App,\n    Object.assign(window.comments_props, window.comments_props_override)\n  )\n);\n"],"names":["StateContext","React","createContext","state","tree","cids","newcids","counter","dispath","init_context_default","comment_count","allow_comments","current_user","request_name","request_email_address","is_authenticated","who_can_post","allow_flagging","allow_feedback","show_feedback","can_moderate","polling_interval","feedback_url","delete_url","dislike_url","like_url","login_url","reply_url","flag_url","list_url","count_url","send_url","preview_url","default_form","content_type","object_pk","timestamp","security_hash","default_followup","html_ud_suffix","max_thread_level","InitContext","create_tree","data","Array","corder","comments","children","in_cids","Set","cur_cids","new_cids","get_children","cid","map","index","undefined","_iterator","_createForOfIteratorHelper","_step","s","n","done","item","value","add","id","level","push","parent_id","err","e","f","_i","_corder","length","size","_iterator2","_step2","has","reducer","action","type","_objectSpread","getCookie","name","document","cookie","all_cookies","split","content","trim","slice","decodeURIComponent","FieldIsRequired","_ref","replyTo","createElement","_extends","className","style","django","gettext","PreviewComment","_ref2","avatar","url","comment","_useContext","useContext","get_heading_name","href","target","raw_markup","md","Remarkable","_raw_markup","render","__html","src","height","width","fontSize","dangerouslySetInnerHTML","CommentForm","_ref3","onCommentCreated","_useContext2","_useState","useState","previewing","submitted","email","followup","errors","alert","message","cssc","_useState2","_slicedToArray","lstate","setLstate","handle_input_change","event","checked","iname","_defineProperty","is_valid_data","is_valid_name","is_valid_email","test","is_valid_comment","handle_submit","preventDefault","honeypot","reply_to","_promise","fetch","method","mode","headers","body","JSON","stringify","then","response","includes","status","css_class","msg_202","msg_204","msg_403","_errors","handle_preview","json","Error","concat","error","console","get_field_css_classes","field","css_classes","get_input_css_classes","render_comment_field","required","maxLength","placeholder","onChange","render_name_field","Fragment","htmlFor","render_email_field","help_cssc","render_url_field","render_followup_field","elem_id","onSubmit","defaultValue","display","onClick","UserPart","userName","userUrl","isRemoved","userModerator","user","useMemo","title","moderator","label","TopRightPart","allowFlagging","canModerate","commentId","deleteUrl","flagUrl","isAuthenticated","loginUrl","userRequestedRemoval","removalCount","flagging_count","fmts","ngettext","text","interpolate","flagging_html","inapp_msg","replace","moderate_html","remove_msg","FeedbackPart","allowFeedback","currentUser","onLikeClicked","onDislikeClicked","showFeedback","userLikeList","userDislikeList","cur_user_id","get_user_list","dir","get_feedback_chunk","user_list","_toConsumableArray","userids","usernames","click_hdl","icon","class_icon","join","likeFeedback","dislikeFeedback","ReplyFormPart","_ref4","maxThreadLevel","onReplyClick","replyFormVisible","replyUrl","CommentBodyPart","_ref5","rawMarkup","_markup","extra_space","cls","reduce_flags","result","like","dislike","removal","is_active","count","flag","Comment","props","_data$children","_flags","flags","removal_count","like_users","dislike_users","is_reply_form_visible","handle_comment_created","handle_reply_click","window","location","post_feedback","_like_users","_dislike_users","action_like","redirect","action_dislike","useEffect","qs_tooltip","tooltipTriggerList","querySelectorAll","tooltipTriggerEl","bootstrap","Tooltip","user_avatar","submit_date","user_name","user_url","is_removed","user_moderator","permalink","key","CommentCounter","CommentFormWrapper","html_id_suffix","_id","elem","getElementById","innerHTML","UpdateAlert","diff","CommentBox","_useContext3","dispatch","load_comments","load_count","setInterval","App","initial_state","_useReducer","useReducer","_useReducer2","Provider","root","ReactDOM","createRoot","Object","assign","comments_props","comments_props_override"],"mappings":"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"}